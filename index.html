<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UEH Food Map</title>

<!-- Fonts vui nh·ªôn -->
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;800&family=Nunito:wght@400;600;800&display=swap" rel="stylesheet">

<style>
  /* ===================== THEME: CARTOON ===================== */
  :root{
    --bg:#FFD8E4;                 /* h·ªìng pastel */
    --panel:#111215;              /* b·∫£ng ƒëen */
    --dot:#ffd36b;                /* h·∫°t liti */
    --card:#fff;
    --text:#0f172a;
    --muted:#6b7280;
    --primary:#ffcf5b;            /* v√†ng k·∫πo */
    --primary-strong:#ffb703;     /* v√†ng ƒë·∫≠m */
    --accent:#8ad7f7;             /* xanh k·∫πo */
    --shadow:0 12px 30px rgba(17,18,21,.18);
    --radius:24px;
  }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%}
  body{
    font-family:"Nunito",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    color:var(--text); background:var(--bg);
    /* sprinkle ch·∫•m nh·∫π to√†n trang */
    background-image:
      radial-gradient(rgba(255,255,255,.6) 1px, transparent 1px),
      radial-gradient(rgba(0,0,0,.03) 1px, transparent 1px);
    background-size:18px 18px, 28px 28px;
    background-position:0 0, 4px 8px;
  }
  a{color:inherit;text-decoration:none}
  .container{max-width:1200px;margin:0 auto;padding:0 20px}

  /* NAV: gi·ªØ layout, ch·ªânh style */
  .nav{position:sticky;top:0;z-index:60;background:rgba(255,255,255,.8);backdrop-filter:blur(10px);border-bottom:1px dashed rgba(0,0,0,.08)}
  .nav-wrap{display:flex;justify-content:space-between;align-items:center;height:78px}
  .brand{display:flex;align-items:center;gap:12px;font-weight:900;letter-spacing:.2px}
  .brand span{font-family:"Baloo 2"; font-size:22px}
  .tabs{display:flex;gap:8px;flex-wrap:wrap}
  .tab{
    padding:12px 18px;border-radius:999px;cursor:pointer;transition:.12s;
    display:flex;align-items:center;gap:6px;background:#ffeef6;border:2px solid transparent;
    box-shadow:0 2px 0 rgba(0,0,0,.08) inset;
  }
  .tab:hover{transform:translateY(-1px) rotate(-.3deg); border-color:#ffc9ea}
  .tab.active{background:#ffe082; border-color:#ffd34a}
  .login{
    border:2px solid #1aa3c7;color:#0a6580;background:linear-gradient(#e6fbff,#c8f3ff);
    border-radius:999px;padding:10px 16px;font-weight:900;box-shadow:var(--shadow);transition:.12s
  }
  .login:hover{transform:translateY(-1px)}

  /* Dropdown */
  .dropdown{position:relative}
  .menu{
    position:absolute;top:52px;left:0;background:#fff;border:2px dashed #ffd34a;border-radius:16px;
    box-shadow:var(--shadow);min-width:240px;display:none;overflow:hidden
  }
  .menu.open{display:block}
  .menu a{display:block;padding:12px 14px}
  .menu a:hover{background:#fff7c2}

  /* Title */
  section{padding:24px 0 40px}
  .titlebar{display:flex;align-items:center;gap:10px;margin:8px 0 8px}
  .titlebar h1{margin:0;font-family:"Baloo 2";font-size:42px;letter-spacing:.5px}

  /* ====== STAGE (b·∫£ng ƒëen tr√≤n gi·ªëng m·∫´u) ====== */
  .stage{
    background:var(--panel); border-radius:32px; padding:20px 18px 28px;
    box-shadow:0 20px 40px rgba(17,18,21,.25); position:relative; overflow:hidden;
  }
  /* dot li ti b√™n trong panel */
  .stage::after{
    content:""; position:absolute; inset:0; pointer-events:none; opacity:.25;
    background-image:
      radial-gradient(var(--dot) 1.4px, transparent 1.4px),
      radial-gradient(#9ae6ff 1.2px, transparent 1.2px),
      radial-gradient(#fda4af 1.2px, transparent 1.2px);
    background-size:26px 26px, 34px 34px, 40px 40px;
    background-position:0 6px, 10px 16px, 18px 2px;
  }

  /* Hero */
  .hero{border-radius:28px;overflow:hidden;box-shadow:var(--shadow);position:relative;background:#fff}
  .hero img{width:100%;height:380px;object-fit:cover;display:block}
  .hero .navbtn{
    position:absolute;top:50%;transform:translateY(-50%);
    width:52px;height:52px;border-radius:999px;border:none;
    background:linear-gradient(#fff,#ffe9f2);box-shadow:0 6px 16px rgba(0,0,0,.25);cursor:pointer;font-size:20px
  }
  .hero .prev{left:16px}.hero .next{right:16px}

  /* Search */
  .search{position:relative;margin:18px 0}
  .search input{
    width:100%;height:58px;border-radius:999px;border:2px dashed #ffd34a;padding:0 56px;font-size:18px;
    background:#fff6fb;box-shadow:0 6px 0 #ffd9ea inset, 0 10px 24px rgba(0,0,0,.15)
  }
  .search .icon{position:absolute;left:18px;top:50%;transform:translateY(-50%);opacity:.7}

  /* Grid 4 c·ªôt ‚Äì gi·ªØ nguy√™n b·ªë c·ª•c */
  .grid{display:grid;gap:20px;grid-template-columns:repeat(4, minmax(0,1fr));align-items:stretch}
  @media (max-width:1080px){.grid{grid-template-columns:repeat(3,1fr)}}
  @media (max-width:820px){.grid{grid-template-columns:repeat(2,1fr)}}
  @media (max-width:520px){.grid{grid-template-columns:1fr}}

  /* Card */
  .card{
    background:#fff;border-radius:28px;overflow:hidden;box-shadow:0 14px 30px rgba(0,0,0,.25);
    display:flex;flex-direction:column;transition:transform .15s ease, box-shadow .15s ease;
    border:2px solid #111;                 /* vi·ªÅn cartoon */
  }
  .card:hover{transform:translateY(-3px) rotate(-.4deg);box-shadow:0 22px 40px rgba(0,0,0,.35)}
  .thumb{position:relative}
  .thumb img{width:100%;height:160px;object-fit:cover;display:block;filter:saturate(1.1) contrast(1.05)}
  .rating{
    position:absolute;top:10px;right:10px;background:#111;color:#fff;padding:6px 10px;border-radius:999px;font-weight:900;
    border:2px solid #fff; box-shadow:0 2px 0 rgba(0,0,0,.3) inset
  }
  .pillwrap{position:absolute;left:10px;bottom:10px;display:flex;gap:8px}
  .pill{background:#111;color:#fff;padding:6px 10px;border-radius:999px;font-size:12px;font-weight:800;border:2px solid #fff}
  .body{padding:14px 16px;display:flex;flex-direction:column;gap:6px}
  .name{font-weight:900;font-family:"Baloo 2"; font-size:18px}
  .meta{color:var(--muted);font-size:14px}

  .show-more{
    display:block;margin:24px auto 0;background:var(--primary);color:#111;border:3px solid #111;border-radius:999px;
    padding:14px 28px;font-weight:900;cursor:pointer;box-shadow:0 8px 0 #111, var(--shadow);
    transition:transform .12s;
  }
  .show-more:hover{transform:translateY(-2px)}
  .hidden{display:none}

  /* Ranking/Modal/Auth: gi·ªØ nguy√™n ‚Äì ch·ªânh t√≠ style */
  .rank-list{display:flex;flex-direction:column;gap:12px}
  .rank-item{background:#fff;border-radius:18px;padding:14px 16px;display:flex;align-items:center;gap:12px;box-shadow:var(--shadow);cursor:pointer;border:2px solid #111}
  .rank-no{width:48px;height:48px;border-radius:999px;display:grid;place-items:center;font-weight:900;border:2px solid #111}
  .no1{background:#ffe082}.no2{background:#e5e7eb}.no3{background:#fca5a5}.noN{background:#c7d2fe}
  .trend{margin-left:auto;font-weight:900}

  .modal{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center;padding:20px;z-index:90}
  .dialog{background:#fff;border-radius:22px;max-width:560px;width:100%;box-shadow:var(--shadow);border:3px solid #111}
  .dialog header{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:2px dashed #ffd34a}
  .dialog .content{padding:16px}

  .auth{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center;padding:20px;z-index:100}
  .auth-card{background:#fff;border-radius:22px;max-width:520px;width:100%;box-shadow:var(--shadow);border:3px solid #111}
  .auth-header{display:flex;align-items:center;justify-content:space-between;padding:16px;border-bottom:2px dashed #ffd34a}
  .auth-tabs{display:flex}
  .auth-tabs button{flex:1;padding:12px 14px;border:2px dashed #ffd34a;background:#fff6bf;cursor:pointer;font-weight:900}
  .auth-tabs button.active{background:#ffe082}
  .auth-body{padding:18px}
  .field{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
  .field input{height:48px;border:2px dashed #111;border-radius:14px;padding:0 12px;font-size:15px;background:#fff}
  .auth-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:8px}
  .btn{border:3px solid #111;border-radius:14px;padding:10px 16px;cursor:pointer;font-weight:900}
  .btn.primary{background:linear-gradient(#ffe082,#ffd34a)}
  .btn.light{background:#eef7fb}
  footer{color:#475569}
  /* Sticker badge g√≥c tr√°i & ph·∫£i */
  .sticker{position:fixed;z-index:50;pointer-events:none;filter:drop-shadow(0 8px 20px rgba(0,0,0,.25))}
  .sticker.tl{left:18px;top:86px;transform:rotate(-8deg)}
  .sticker.br{right:18px;bottom:24px;transform:rotate(8deg)}
</style>
</head>
<body>

<!-- Sticker SVG trang tr√≠ (kh√¥ng ·∫£nh h∆∞·ªüng s·ª± ki·ªán) -->
<svg class="sticker tl" width="130" height="130" viewBox="0 0 200 200" aria-hidden="true">
  <defs><style>.s0{fill:#ffd34a;stroke:#111;stroke-width:8;stroke-linejoin:round}.s1{fill:#ff8fb8;stroke:#111;stroke-width:8}.s2{fill:#111;font:900 20px 'Baloo 2',sans-serif}</style></defs>
  <path class="s0" d="M100,10c22,0 21,16 40,18 20,2 26,-8 40,8 14,16 4,22 8,40 4,18 20,18 20,40 0,22 -16,21 -18,40 -2,20 8,26 -8,40 -16,14 -22,4 -40,8 -18,4 -18,20 -40,20 -22,0 -21,-16 -40,-18 -20,-2 -26,8 -40,-8 -14,-16 -4,-22 -8,-40 -4,-18 -20,-18 -20,-40 0,-22 16,-21 18,-40 2,-20 -8,-26 8,-40 16,-14 22,-4 40,-8 18,-4 18,-20 40,-20z"/>
  <circle class="s1" cx="100" cy="100" r="34"/>
  <text class="s2" x="100" y="42" text-anchor="middle">YUMMY</text>
  <text class="s2" x="100" y="182" text-anchor="middle">SPOTS</text>
</svg>
<svg class="sticker br" width="130" height="130" viewBox="0 0 200 200" aria-hidden="true">
  <defs><style>.t0{fill:#ff8fb8;stroke:#111;stroke-width:8;stroke-linejoin:round}.t1{fill:#8ad7f7;stroke:#111;stroke-width:8}.t2{fill:#111;font:900 18px 'Baloo 2',sans-serif}</style></defs>
  <path class="t0" d="M180,100c0,44 -36,80 -80,80S20,144 20,100 56,20 100,20s80,36 80,80z"/>
  <circle class="t1" cx="100" cy="100" r="34"/>
  <text class="t2" x="100" y="36" text-anchor="middle">UEH FUN</text>
  <text class="t2" x="100" y="178" text-anchor="middle">MAP VIBES</text>
</svg>

<!-- NAV -->
<nav class="nav">
  <div class="container nav-wrap">
    <!-- Logo SVG xanh (gi·ªØ) -->
    <a class="brand" href="#home" aria-label="UEH Food Map">
      <!-- Logo PNG m·ªõi -->
<a class="brand" href="#home" aria-label="UEH Food Map">
  <img src="logo-pho.png" alt="UEH Food Map logo" class="brand-logo" />
  <span>UEH Food Map</span>
</a>
          <style>.ln{fill:#EAFEFF;stroke:#18A4C9;stroke-width:4;stroke-linecap:round;stroke-linejoin:round}
                 .txt{font:900 16px 'Baloo 2', Arial, sans-serif; fill:#0b1220}</style>
        </defs>
        <path class="ln" d="M98 124 q18 12 36 0" fill="none"/>
        <path class="ln" d="M66 122 q-20 14 -38 0" fill="none"/>
        <rect x="72" y="78" rx="8" ry="8" width="58" height="32" class="ln"/>
        <text x="101" y="98" text-anchor="middle" class="txt">UEH-ers</text>
        <ellipse cx="90" cy="72" rx="14" ry="9" class="ln"/>
        <ellipse cx="108" cy="64" rx="14" ry="9" class="ln"/>
        <ellipse cx="82" cy="60" rx="14" ry="9" class="ln"/>
        <path class="ln" d="M70 86 q-8 -6 -12 -2 q-4 3 -3 9" fill="none"/>
        <circle cx="64" cy="56" r="12" class="ln"/>
        <path class="ln" d="M60 68 q-6 14 -2 30" fill="none"/>
      </svg>
      <span>UEH Food Map</span>
    </a>

    <div class="tabs" role="tablist" aria-label="Task bar">
      <div class="dropdown">
        <a class="tab active" href="#home" id="tabHome">Trang ch·ªß ‚ñæ</a>
        <div class="menu" id="homeMenu">
          <a data-cat="all">T·∫•t c·∫£</a>
          <a data-cat="com">C∆°m</a>
          <a data-cat="bun">B√∫n/M√¨/Ph·ªü</a>
          <a data-cat="fast">ƒê·ªì ƒÉn nhanh</a>
          <a data-cat="other">Kh√°c</a>
          <a data-cat="drink">ƒê·ªì u·ªëng</a>
        </div>
      </div>
      <a class="tab" href="#rank">Ranking: Top 5 tu·∫ßn</a>
      <a class="tab" href="#map">B·∫£n ƒë·ªì t∆∞∆°ng t√°c</a>
      <a class="tab" href="#chat">AI Botchat</a>
    </div>
    <button class="login" id="btnOpenAuth">ƒêƒÉng nh·∫≠p</button>
  </div>
</nav>

<!-- ================= HOME ================= -->
<section class="container" id="home">
  <div class="titlebar"><h1>Top qu√°n ƒÉn must try</h1></div>

  <!-- Panel cartoon -->
  <div class="stage">
    <div class="hero" aria-label="Top 5 qu√°n tu·∫ßn">
      <img id="heroImg" alt="Top list" src="https://picsum.photos/seed/forestueh/1200/420"/>
      <button class="navbtn prev" id="heroPrev">‚óÄ</button>
      <button class="navbtn next" id="heroNext">‚ñ∂</button>
    </div>

    <div class="search">
      <svg class="icon" width="22" height="22" viewBox="0 0 24 24" fill="none">
        <circle cx="11" cy="11" r="7" stroke="#0f172a" stroke-opacity=".8" stroke-width="2"/>
        <path d="M20 20l-3.5-3.5" stroke="#0f172a" stroke-opacity=".8" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <input id="search" type="text" placeholder="T√¨m ki·∫øm qu√°n ƒÉn, ƒë·ªãa ch·ªâ‚Ä¶" aria-label="T√¨m ki·∫øm"/>
    </div>

    <div class="grid" id="cards"></div>
    <button class="show-more" id="btnMore" hidden>Xem th√™m</button>
  </div>
</section>

<!-- ================ RANK ================ -->
<section class="container" id="rank" hidden>
  <div class="titlebar"><h1>B·∫£ng X·∫øp H·∫°ng Tu·∫ßn</h1></div>
  <div class="rank-list" id="rankList"></div>
</section>

<!-- ================ MAP ================ -->
<section class="container" id="map" hidden>
  <div class="titlebar"><h1>B·∫£n ƒë·ªì t∆∞∆°ng t√°c</h1></div>
  <div style="border-radius:22px;overflow:hidden;box-shadow:var(--shadow);border:2px solid #111">
    <img alt="Map placeholder" src="https://picsum.photos/seed/mapueh/1200/480" style="width:100%;height:420px;object-fit:cover"/>
  </div>
</section>

<!-- ================ CHAT ================ -->
<section class="container" id="chat" hidden>
  <div class="titlebar"><h1>AI Botchat</h1></div>
  <div style="background:#fff;border-radius:18px;box-shadow:var(--shadow);padding:18px;border:2px solid #111">T√≠nh nƒÉng s·∫Ω k·∫øt n·ªëi sau.</div>
</section>

<!-- DETAIL MODAL -->
<div class="modal" id="modal">
  <div class="dialog">
    <header>
      <strong id="dlgTitle">Chi ti·∫øt qu√°n</strong>
      <button id="dlgClose" class="btn light" aria-label="ƒê√≥ng">‚úï</button>
    </header>
    <div class="content" id="dlgContent"></div>
  </div>
</div>

<!-- AUTH MODAL -->
<div class="auth" id="auth">
  <div class="auth-card" role="dialog" aria-modal="true" aria-labelledby="authTitle">
    <div class="auth-header">
      <strong id="authTitle">T√†i kho·∫£n</strong>
      <button id="authClose" class="btn light">‚úï</button>
    </div>
    <div class="auth-tabs" role="tablist">
      <button id="tabLogin" class="active" aria-controls="paneLogin">ƒêƒÉng nh·∫≠p</button>
      <button id="tabRegister" aria-controls="paneRegister">ƒêƒÉng k√Ω</button>
    </div>
    <div class="auth-body">
      <!-- Login -->
      <div id="paneLogin">
        <div class="field">
          <label for="loginEmail">Email</label>
          <input type="email" id="loginEmail" placeholder="you@example.com" required>
        </div>
        <div class="field">
          <label for="loginPass">M·∫≠t kh·∫©u</label>
          <input type="password" id="loginPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
        </div>
        <div class="auth-actions">
          <button class="btn light" id="loginCancel">Hu·ª∑</button>
          <button class="btn primary" id="loginSubmit">ƒêƒÉng nh·∫≠p</button>
        </div>
      </div>
      <!-- Register -->
      <div id="paneRegister" style="display:none">
        <div class="field">
          <label for="regName">H·ªç v√† t√™n</label>
          <input type="text" id="regName" placeholder="Nguy·ªÖn VƒÉn A" required>
        </div>
        <div class="field">
          <label for="regEmail">Email</label>
          <input type="email" id="regEmail" placeholder="you@example.com" required>
        </div>
        <div class="field">
          <label for="regPhone">S·ªë ƒëi·ªán tho·∫°i</label>
          <input type="tel" id="regPhone" placeholder="09xx xxx xxx" required>
        </div>
        <div class="field">
          <label for="regPass">M·∫≠t kh·∫©u</label>
          <input type="password" id="regPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
        </div>
        <div class="auth-actions">
          <button class="btn light" id="regCancel">Hu·ª∑</button>
          <button class="btn primary" id="regSubmit">ƒêƒÉng k√Ω</button>
        </div>
      </div>
    </div>
  </div>
</div>

<footer class="container" style="padding:36px 0;text-align:center;font-weight:800;font-family:'Baloo 2';">¬© 2025 UEH Food Map ‚Äì cute mode üßÉ</footer>

<script>
  /* ===== NAV ===== */
  const sections=['home','rank','map','chat'];
  function navigate(){
    const hash=(location.hash||'#home').replace('#','');
    sections.forEach(id=>{document.getElementById(id).hidden=(id!==hash)});
    document.querySelectorAll('.tabs .tab').forEach(t=>t.classList.remove('active'));
    const match=[...document.querySelectorAll('.tabs .tab')].find(a=>a.getAttribute('href')==='#'+hash);
    if(match) match.classList.add('active');
  }
  window.addEventListener('hashchange',navigate); navigate();

  /* ===== Dropdown ===== */
  const tabHome=document.getElementById('tabHome');
  const homeMenu=document.getElementById('homeMenu');
  tabHome.addEventListener('click',(e)=>{
    e.preventDefault(); if(location.hash!=="#home") location.hash="#home"; homeMenu.classList.toggle('open');
  });
  document.addEventListener('click',(e)=>{
    if(!homeMenu.contains(e.target) && e.target!==tabHome && !tabHome.contains(e.target)) homeMenu.classList.remove('open');
  });

  /* ===== Data (15 qu√°n) ===== */
  const DATA=[
    {id:1,  name:'B√∫n Qu·∫≠y T√ÇM QU√ÅN',        addr:'210 Nguy·ªÖn Tri Ph∆∞∆°ng',                dist:'50m',  price:'40-60k',    rate:4.4, img:'https://picsum.photos/seed/tamquan/640/360',        cat:'bun'},
    {id:2,  name:'Rau m√° mix',               addr:'269 Nguy·ªÖn Tri Ph∆∞∆°ng',                dist:'60m',  price:'12-34k',    rate:4.2, img:'https://picsum.photos/seed/raumamix/640/360',      cat:'drink'},
    {id:3,  name:'Chicken Plus',             addr:'226 Nguy·ªÖn Tri Ph∆∞∆°ng',                dist:'120m', price:'100k/ng∆∞·ªùi',rate:4.2, img:'https://picsum.photos/seed/chickenplus/640/360',    cat:'fast'},
    {id:4,  name:'B√∫n Th√°i',                 addr:'325 Nguy·ªÖn Tri Ph∆∞∆°ng',                dist:'350m', price:'29-59k',    rate:4.9, img:'https://picsum.photos/seed/bunthai/640/360',       cat:'bun'},
    {id:5,  name:'B√∫n b√≤ Ph∆∞∆°ng Ng·ªçc',       addr:'384 H√≤a H·∫£o',                           dist:'160m', price:'38-48k',    rate:4.5, img:'https://picsum.photos/seed/bunbongoc/640/360',     cat:'bun'},
    {id:6,  name:'Qu√°n chay An C√°t T∆∞·ªùng',   addr:'218 Nguy·ªÖn Tri Ph∆∞∆°ng',                dist:'100m', price:'49-86k',    rate:4.3, img:'https://picsum.photos/seed/ancattuong/640/360',    cat:'other'},
    {id:7,  name:'C∆°m t√¥m ph·ªß tr·ª©ng',        addr:'ƒê√†o Duy T·ª´',                            dist:'50m',  price:'35-40k',    rate:4.8, img:'https://picsum.photos/seed/comtomphutung/640/360', cat:'com'},
    {id:8,  name:'Tr√† S·ªØa Gia Nghi',         addr:'415A H√≤a H·∫£o',                          dist:'170m', price:'‚Äî',         rate:5.0, img:'https://picsum.photos/seed/gianghi/640/360',       cat:'drink'},
    {id:9,  name:'Yi Jia Desert',            addr:'363 Vƒ©nh Vi·ªÖn',                         dist:'450m', price:'25-48k',    rate:4.3, img:'https://picsum.photos/seed/yijia/640/360',         cat:'other'},
    {id:10, name:'Tr√† s·ªØa Tuy·∫øt Ng√¢n',       addr:'208/20/8 Nguy·ªÖn Tri Ph∆∞∆°ng',           dist:'280m', price:'28-78k',    rate:4.1, img:'https://picsum.photos/seed/tuyetngan/640/360',     cat:'drink'},
    {id:11, name:'B√∫n ƒë·∫≠u m·∫Øm t√¥m Ti·∫øn H·∫£i', addr:'409 Nguy·ªÖn Tri Ph∆∞∆°ng',                dist:'450m', price:'22-100k',   rate:4.1, img:'https://picsum.photos/seed/tienhai/640/360',       cat:'bun'},
    {id:12, name:'Tr√† s·ªØa Ph∆∞·ª£ng Ho√†ng',     addr:'317B Nguy·ªÖn Tri Ph∆∞∆°ng',               dist:'80m',  price:'25-35k',    rate:4.3, img:'https://picsum.photos/seed/phuonghoang/640/360',   cat:'drink'},
    {id:13, name:'H√° c·∫£o Ph√°nh',             addr:'012 L√¥ B Chung c∆∞ Nguy·ªÖn Tr√£i',        dist:'900m', price:'12-100k',   rate:4.5, img:'https://picsum.photos/seed/hacao/640/360',         cat:'fast'},
    {id:14, name:'C∆°m g√† Tam K·ª≥',            addr:'65 ƒê√†o Duy T·ª´',                         dist:'30m',  price:'35-50k',    rate:4.6, img:'https://picsum.photos/seed/comgatamky/640/360',   cat:'com'},
    {id:15, name:'B√∫n th√°i - C∆°m Vi·ªát',      addr:'325 Nguy·ªÖn Tri Ph∆∞∆°ng',                dist:'70m',  price:'30-35k',    rate:4.4, img:'https://picsum.photos/seed/bunthaicomviet/640/360',cat:'bun'}
  ];
  const TOP5=[...DATA].sort((a,b)=>b.rate-a.rate).slice(0,5);

  /* ===== Hero slider (·∫£nh t·ª´ TOP5) ===== */
  const heroImg=document.getElementById('heroImg');
  const heroPics=TOP5.map(x=>x.img);
  let heroIdx=0;
  const setHero=()=>{heroImg.src=heroPics[heroIdx];}
  document.getElementById('heroPrev').onclick=()=>{heroIdx=(heroIdx+heroPics.length-1)%heroPics.length;setHero();}
  document.getElementById('heroNext').onclick=()=>{heroIdx=(heroIdx+1)%heroPics.length;setHero();}
  setHero();

  /* ===== Grid + Search + More (m·ªôt grid duy nh·∫•t) ===== */
  const grid=document.getElementById('cards');
  const btnMore=document.getElementById('btnMore');
  let currentCat='all', searchQuery='';

  function formatCard(it){
    const price = (it.price && it.price.trim()!=='') ? it.price : '‚Äî';
    return `<article class="card" data-id="${it.id}">
      <div class="thumb">
        <img src="${it.img}" alt="${it.name}" loading="lazy"/>
        <span class="rating">‚òÖ ${it.rate}</span>
        <div class="pillwrap">
          <span class="pill">${it.dist}</span>
          <span class="pill">${price}</span>
        </div>
      </div>
      <div class="body">
        <div class="name">${it.name}</div>
        <div class="meta">${it.addr}</div>
      </div>
    </article>`;
  }

  function renderGrid(){
    const list = DATA.filter(x=>
      (currentCat==='all' ? true : x.cat===currentCat) &&
      (searchQuery==='' ? true : (x.name+" "+x.addr).toLowerCase().includes(searchQuery))
    );
    grid.innerHTML='';
    list.forEach((it,idx)=>{
      grid.insertAdjacentHTML('beforeend', formatCard(it));
      if(idx>=8){ grid.lastElementChild.classList.add('hidden'); }
    });
    btnMore.hidden = list.length<=8;
    btnMore.textContent='Xem th√™m';
  }

  btnMore.addEventListener('click',()=>{
    const hiddenCards = grid.querySelectorAll('.card.hidden');
    if(hiddenCards.length){ // m·ªü
      hiddenCards.forEach(c=>c.classList.remove('hidden'));
      btnMore.textContent='Thu g·ªçn';
    }else{ // thu g·ªçn
      const all = grid.querySelectorAll('.card');
      all.forEach((c,idx)=>{ if(idx>=8) c.classList.add('hidden'); });
      btnMore.textContent='Xem th√™m';
      window.scrollTo({top:document.getElementById('home').offsetTop-60, behavior:'smooth'});
    }
  });

  homeMenu.querySelectorAll('a').forEach(a=> a.addEventListener('click',(e)=>{
    e.preventDefault(); currentCat=a.dataset.cat||'all'; homeMenu.classList.remove('open'); renderGrid();
  }));

  const searchInput=document.getElementById('search');
  let t=null;
  searchInput.addEventListener('input',()=>{ clearTimeout(t); t=setTimeout(()=>{ searchQuery=searchInput.value.trim().toLowerCase(); renderGrid(); },150); });

  renderGrid();

  /* ===== Ranking + Detail modal ===== */
  const rankList=document.getElementById('rankList');
  const modal=document.getElementById('modal');
  const dlgContent=document.getElementById('dlgContent');
  document.getElementById('dlgClose').onclick=()=> modal.style.display='none';

  function openDetail(r){
    dlgContent.innerHTML=`<img src="${r.img}" alt="${r.name}" style="width:100%;height:220px;object-fit:cover;border-radius:12px"/>
      <div style="margin-top:12px">
        <div style="font-weight:900;font-size:20px;font-family:'Baloo 2'">${r.name}</div>
        <div style="color:#64748b;margin:6px 0">${r.addr}</div>
        <div><strong>Gi√° c·∫£:</strong> ${r.price||'‚Äî'}</div>
        <div><strong>Kho·∫£ng c√°ch:</strong> ${r.dist}</div>
        <div style="margin-top:8px"><strong>ƒê√°nh gi√°:</strong> ‚òÖ ${r.rate}</div>
      </div>`;
    modal.style.display='flex';
  }

  function renderRank(){
    rankList.innerHTML='';
    [...DATA].sort((a,b)=>b.rate-a.rate).slice(0,5).forEach((r,i)=>{
      const cls=i===0?'no1':i===1?'no2':i===2?'no3':'noN';
      const item=document.createElement('div');
      item.className='rank-item';
      item.innerHTML=`<div class="rank-no ${cls}">#${i+1}</div>
        <div><div style="font-weight:900">${r.name}</div><div style="color:#6b7280">${r.addr}</div></div>
        <div class="trend">‚òÖ ${r.rate}</div>`;
      item.tabIndex=0;
      const fire=()=>openDetail(r);
      item.addEventListener('click',fire);
      item.addEventListener('keydown',e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault(); fire();}});
      rankList.appendChild(item);
    });
  }
  renderRank();

  /* Click card trang ch·ªß -> chi ti·∫øt (gi·ªØ) */
  grid.addEventListener('click',(e)=>{
    const card=e.target.closest('.card');
    if(!card) return;
    const id=parseInt(card.dataset.id);
    const r=DATA.find(x=>x.id===id);
    if(r) openDetail(r);
  });

  /* ===== Auth modal ===== */
  const auth=document.getElementById('auth');
  const btnOpenAuth=document.getElementById('btnOpenAuth');
  const authClose=document.getElementById('authClose');
  const loginCancel=document.getElementById('loginCancel');
  const regCancel=document.getElementById('regCancel');
  btnOpenAuth.onclick=()=>{auth.style.display='flex';};
  [authClose,loginCancel,regCancel].forEach(b=> b.onclick=()=> auth.style.display='none');

  const tabLogin=document.getElementById('tabLogin');
  const tabRegister=document.getElementById('tabRegister');
  const paneLogin=document.getElementById('paneLogin');
  const paneRegister=document.getElementById('paneRegister');
  tabLogin.onclick=()=>{ tabLogin.classList.add('active'); tabRegister.classList.remove('active'); paneLogin.style.display='block'; paneRegister.style.display='none'; }
  tabRegister.onclick=()=>{ tabRegister.classList.add('active'); tabLogin.classList.remove('active'); paneRegister.style.display='block'; paneLogin.style.display='none'; }

  document.getElementById('loginSubmit').onclick=()=>{const e=document.getElementById('loginEmail').value.trim();const p=document.getElementById('loginPass').value.trim();if(!e||!p)return alert('Vui l√≤ng nh·∫≠p Email v√† M·∫≠t kh·∫©u');alert('ƒêƒÉng nh·∫≠p demo th√†nh c√¥ng!');auth.style.display='none';};
  document.getElementById('regSubmit').onclick=()=>{const n=document.getElementById('regName').value.trim();const e=document.getElementById('regEmail').value.trim();const ph=document.getElementById('regPhone').value.trim();const p=document.getElementById('regPass').value.trim();if(!n||!e||!ph||!p)return alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin');alert('ƒêƒÉng k√Ω demo th√†nh c√¥ng!');auth.style.display='none';};
</script>
</body>
</html>
